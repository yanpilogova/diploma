<h1 align="center">План автоматизации тестирования покупки тура "Марракэш"</h1>

## Объект тестирования
Веб-сервис оплаты путешествия двумя способами:

* дебетовой картой  
* выдачей кредита по реквизитам банковской карты 


## Валидные данные тестовых карт  

* Номер разрешённой (APPROVED) карты: *4444 4444 4444 4441*  
* Номер запрещённой (DECLINED) карты: *4444 4444 4444 4442*  
* Месяц: двузначное число в диапазоне *01...12*  
* Год: *больше текущего на два, в формате двузначного числа*  
* Владелец: *Имя и Фамилия латиницей*  
* CVC: Трёхзначное число в диапазоне *000...999*  

# Перечень автоматизируемых сценариев:

## Позитивные сценарии (APPROVED):
#### 1. Успешная покупка дебетовой валидной картой 
- Выбрать "Купить"  
- Заполнить данные разрешённой карты  
- Нажать "Продолжить"  
- Ожидаемое поведение: уведомление "Успешно". В БД статус операции: "APPROVED"  

#### 2. Отказ в оплате дебетовой картой с пустым полем номер  
- Выбрать "Купить"  
- Заполнить все поля валидными данными, кроме номера карты, оставить номер карты пустым 
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Неверный формат"   

#### 3.  Отказ в оплате  дебетовой картой с пустым полем месяца 
- Выбрать "Купить"  
- Заполнить все поля, кроме месяца, валидными данными  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверный формат"  

#### 4.  Отказ в оплате  дебетовой картой с пустым полем год 
- Выбрать "Купить"  
- Заполнить все поля, кроме года, валидными данными  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверный формат" 

#### 5.  Отказ в оплате  дебетовой картой с пустым полем Владелец 
- Выбрать "Купить"  
- Заполнить все поля, кроме поля Владелец, валидными данными  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Неверный формат"

#### 6.  Отказ в оплате  дебетовой картой с пустым полем CVC 
- Выбрать "Купить"  
- Заполнить все поля, кроме поля CVC, валидными данными  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "CVC" подчёркнуто красным, под полем есть сообщение "Неверный формат"

#### 6.  Отказ в оплате  дебетовой картой с пустым полем CVC 
- Выбрать "Купить"  
- Заполнить все поля, кроме поля CVC, валидными данными  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "CVC" подчёркнуто красным, под полем есть сообщение "Неверный формат"

## Негативные сценарии (DECLINED):

#### 7.  Отказ в оплате запрещенной  дебетовой картой 
- Выбрать "Купить"  
- Заполнить все поля, кроме номера, валидными данными  
- В поле "Номер карты" ввести: 4444 4444 4444 4442  
- Ожидаемое поведение: уведомление "Отказано". В БД статус операции: "DECLINED"  

#### 8. Оплата дебетовой картой просроченой на месяц  
- Выбрать "Купить"  
- Заполнить все поля, кроме года и месяца, валидными данными  
- В поле "Месяц" ввести прошедший  
- В поле "Год" ввести текущий год  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"  

#### 9. Оплата дебетовой картой просроченой на год  
- Выбрать "Купить"  
- Заполнить все поля, кроме года и месяца, валидными данными  
- В поле "Месяц" ввести текущий  
- В поле "Год" ввести прошлый год  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Истёк срок действия карты"  

#### 7. Выбрать "Купить"  
- Заполнить все поля, кроме месяца, валидными данными  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверный формат"  
- В поле "Месяц" ввести валидный месяц 
- Нажать "Продолжить"  
- Ожидаемое поведение: Нотификация об ошибке номера исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"  

#### 8. Купить. Оплата проходит после исправления года  
- Выбрать "Купить"  
- Заполнить все поля, кроме года, валидными данными  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверный формат"  
- В поле "Год" ввести валидный год  
- Нажать "Продолжить"  
- Ожидаемое поведение: Нотификация об ошибке номера исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"  

#### 9. Купить. Оплата происходит после исправления имени владельца  
- Выбрать "Купить"  
- Заполнить все поля, кроме владельца, валидными данными  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит.  
- Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"  
- В поле "Владелец" ввести валидное значение  
- Нажать "Продолжить"  
- Ожидаемое поведение: Нотификация об ошибке исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"  

#### 10. Купить. Оплата происходит после исправления CVC/CVV  
- Выбрать "Купить"   
- Заполнить все поля, кроме CVC/CVV, валидными данными  
- Нажать "Продолжить"  
- Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"  
- В поле "CVC/CVV" ввести валидное значение  
- Нажать "Продолжить"  
- Ожидаемое поведение: Нотификация об ошибке исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"  

#### 11. Купить в кредит. Успешная оплата кредитом с разрешённой картой  
- Выбрать "Купить в кредит"  
- Заполнить данные разрешённой карты  
- Нажать "Продолжить"  
- Ожидаемое поведение: уведомление "Успешно". В БД статус операции: "APPROVED"  

#### 12. Купить в кредит. Отказ в оплате кредитом с запрещённой картой  
- Выбрать "Купить в кредит"  
- Заполнить данные запрещённой карты  
- Нажать "Продолжить"  
- Ожидаемое поведение: уведомление "Отказано". В БД статус операции: "DECLINED"  

#### 13. Купить в кредит. Оплата не происходит. Карта просрочена на месяц  
- Выбрать "Купить в кредит"  
- Заполнить все поля, кроме года и месяца, валидными данными  
- В поле "Месяц" ввести прошедший  
- В поле "Год" ввести текущий год  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"  

#### 14. Купить в кредит. Оплата не происходит. Карта просрочена на год  
- Выбрать "Купить в кредит"  
- Заполнить все поля, кроме года и месяца, валидными данными  
- В поле "Месяц" ввести текущий  
- В поле "Год" ввести прошедший  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Истёк срок действия карты"  

#### 15. Купить в кредит. Оплата происходит после исправления CVC/CVV  
- Выбрать "Купить в кредит"  
- Заполнить все поля, кроме CVC/CVV, валидными данными  
- Нажать "Продолжить"  
- Ожидаемое поведение: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"  
- В поле "CVC/CVV" ввести валидное значение  
- Нажать "Продолжить"  
- Ожидаемое поведение: Нотификация об ошибке исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"  


## Перечень используемых инструментов с обоснованием выбора  
* Java 8 - версия Java  
* MySQL - БД (база данных) с которой работает приложение  
* PostgreSQL - вторая БД с которой может работать приложение  
* node-js - окружение в котором работает симулятор банковского сервиса  
* Junit 5 - позволяет создавать автоматизированные тесты на Java  
* Selenide - для автоматизации UI тестов на Java   
* Faker - генератор случайных данных владельца карты  
* lombok - упрощает написание программ на Java  
* Allure - генератор отчётов тестирования  


## Перечень и описание возможных рисков при автоматизации  
- У тестировщика нет достаточного опыта в работе с инструментарием  
- Нет документации к тестируемому приложению. Нед данных о корректном поведении приложения.  

## Интервальная оценка с учётом рисков (в часах)  
Без рисков: до 61 часа:  
20 часов на исследование приложения;  
10 часов на планирование;  
25 часов на написание основы тестов и утилит;  
2 часа на написание самих сценариев;  
2 часа отладку сценариев;  
2 часа на описание багов и отчёт.  

С рисками: до 85 часов:  
61 часа без рисков + ещё 24 часа на изучение инструментов автоматизации.  


## План сдачи работ  
- Написание и отладка тестов: 01 августа 2022  
- Оформление отчётов: 17 августа 2022  
